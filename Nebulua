local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 350, 0, 200)
Frame.Position = UDim2.new(0.5, -175, 0.5, -100)
Frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Frame.BorderSizePixel = 0
Frame.Parent = ScreenGui

local Header = Instance.new("Frame")
Header.Size = UDim2.new(1, 0, 0, 20)
Header.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Header.BorderSizePixel = 0
Header.Parent = Frame

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 1, 0)
Title.Text = "Nebula Key System"
Title.TextScaled = true
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 16
Title.Parent = Header

local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0, 20, 0, 20)
CloseButton.Position = UDim2.new(1, -30, 0, 0)
CloseButton.Text = "X"
CloseButton.TextScaled = true
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
CloseButton.BorderSizePixel = 0
CloseButton.Parent = Header
CloseButton.AutoButtonColor = false

local function closeGui()
    ScreenGui:Destroy()
end

CloseButton.MouseButton1Click:Connect(closeGui)

local DiscordText = Instance.new("TextLabel")
DiscordText.Size = UDim2.new(0, 400, 0, 0)
DiscordText.Position = UDim2.new(0.5, -200, 0.22, 70)
DiscordText.Text = "Join discord.gg/Nebulua to get the key"
DiscordText.TextColor3 = Color3.fromRGB(255, 255, 255)
DiscordText.BackgroundTransparency = 1
DiscordText.Font = Enum.Font.SourceSans
DiscordText.TextSize = 16
DiscordText.Parent = Frame

local TextBox = Instance.new("TextBox")
TextBox.Size = UDim2.new(0, 200, 0, 40)
TextBox.Position = UDim2.new(0.5, -100, 0.4, -40)
TextBox.PlaceholderText = "Insert Key"
TextBox.Text = ""
TextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
TextBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
TextBox.Font = Enum.Font.SourceSans
TextBox.TextSize = 20
TextBox.Parent = Frame

local SubmitButton = Instance.new("TextButton")
SubmitButton.Size = UDim2.new(0, 100, 0, 35)
SubmitButton.Position = UDim2.new(0.4, -110, 0.8, -20)
SubmitButton.Text = "Submit"
SubmitButton.BackgroundColor3 = Color3.fromRGB(50, 100, 200)
SubmitButton.TextColor3 = Color3.fromRGB(255, 255, 255)
SubmitButton.Font = Enum.Font.SourceSansBold
SubmitButton.TextSize = 20
SubmitButton.Parent = Frame

local CopyButton = Instance.new("TextButton")
CopyButton.Size = UDim2.new(0, 100, 0, 35)
CopyButton.Position = UDim2.new(0.6, 6, 0.8, -20)
CopyButton.Text = "Copy Discord"
CopyButton.BackgroundColor3 = Color3.fromRGB(50, 100, 200)
CopyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CopyButton.Font = Enum.Font.SourceSansBold
CopyButton.TextSize = 20
CopyButton.Parent = Frame

local MessageLabel = Instance.new("TextLabel")
MessageLabel.Size = UDim2.new(0, 400, 0, 30)
MessageLabel.Position = UDim2.new(0.5, -200, 1, -30)
MessageLabel.Text = ""
MessageLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
MessageLabel.BackgroundTransparency = 1
MessageLabel.Font = Enum.Font.SourceSans
MessageLabel.TextSize = 15
MessageLabel.Parent = Frame

local function copyToClipboard(text)
    setclipboard(text)
end

CopyButton.MouseButton1Click:Connect(function()
    copyToClipboard("https://discord.gg/Nebulua")
    MessageLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
    MessageLabel.Text = "Discord link copied!"
end)

local function executeScript(url)
    loadstring(game:HttpGet(url))()
end

local function handleGameSpecificLogic()
    local placeId = game.PlaceId
    if placeId == 16732694052 then
        return "NebulAF1sch2024", "https://raw.githubusercontent.com/Feimgps/Nebula/refs/heads/main/FischObfuscated"
    elseif placeId == 2788229376 then
        return "IFUCKINGHATECATANIA", "https://raw.githubusercontent.com/Feimgps/Nebula/refs/heads/main/DaHood"
    else
        return "IFUCKINGHATECATANIA", "https://raw.githubusercontent.com/Feimgps/Nebula/refs/heads/main/HoodCustomsObfuscated"
    end
end

local correctKey, scriptUrl = handleGameSpecificLogic()

SubmitButton.MouseButton1Click:Connect(function()
    if TextBox.Text == correctKey then
        MessageLabel.Text = ""
        MessageLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
        MessageLabel.Text = "Loading Nebula..."
        executeScript(scriptUrl)
        closeGui()
    else
        MessageLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
        MessageLabel.Text = "Invalid code."
    end
end)
